<!DOCTYPE html>
<html lang="th" data-theme="light">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin Dashboard - ‡∏£‡∏∞‡∏ö‡∏ö‡πÇ‡∏´‡∏ß‡∏ï</title>
  
  <link rel="icon" href="https://img5.pic.in.th/file/secure-sv1/IMG_602976b5b060daac652b.png" type="image/png">
  
  <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap" rel="stylesheet">
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <link rel="stylesheet" href="admin.css">

  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
</head>

<body>

  <div class="dashboard-container" id="main-dashboard">
    
    <aside class="sidebar" id="sidebar">
      <div class="sidebar-header">
        <div class="logo">
          <img src="https://img5.pic.in.th/file/secure-sv1/IMG_60290ec6a71fd92a13d0.png" alt="Logo" id="sidebar-logo">
          <span>Admin Panel</span>
        </div>
        <button class="sidebar-toggle" id="sidebarToggle">
          <i class="fas fa-bars"></i>
        </button>
      </div>

      <nav class="sidebar-nav">
        <ul>
          <li class="active"><a href="#" data-page="dashboard"><i class="fas fa-home"></i><span>Dashboard</span></a></li>
          <li><a href="#" data-page="feedbacks"><i class="fas fa-comment-dots"></i><span>‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠‡πÅ‡∏ô‡∏∞</span></a></li>
          <li><a href="#" data-page="products"><i class="fas fa-tshirt"></i><span>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏ö‡∏ö‡πÄ‡∏™‡∏∑‡πâ‡∏≠</span></a></li>
          <li><a href="#" data-page="users"><i class="fas fa-users"></i><span>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÇ‡∏´‡∏ß‡∏ï</span></a></li>
          <li><a href="#" data-page="accounts"><i class="fas fa-user-shield"></i><span>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•</span></a></li>
          <li><a href="#" data-page="tools"><i class="fas fa-tools"></i><span>‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•</span></a></li>
          <li><a href="#" data-page="settings"><i class="fas fa-cog"></i><span>‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏£‡∏∞‡∏ö‡∏ö</span></a></li>
        </ul>
      </nav>

      <div class="sidebar-footer">
        <div class="user-profile">
          <i class="fas fa-user-shield"></i>
          <div class="user-info">
            <span class="user-name" id="admin-profile-name">Admin</span>
            <span class="user-role">Administrator</span>
          </div>
        </div>
      </div>
    </aside>

    <main class="main-content">
      <header class="navbar">
        <div class="navbar-left">
          <button class="mobile-toggle" id="mobileToggle">
            <i class="fas fa-bars"></i>
          </button>
          <button class="btn btn-secondary" id="refreshDataButton">
              <i class="fas fa-sync-alt"></i> ‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
          </button>
        </div>

        <div class="navbar-right">
          <div class="notifications-wrapper" style="position: relative;">
            <button class="notifications" id="notifToggle">
              <i class="fas fa-bell"></i>
              <span class="badge" id="notifBadge" style="display: none;">0</span>
            </button>
            <div class="dropdown-menu" id="notifDropdown">
              <div style="padding: 10px; border-bottom: 1px solid #eee; font-weight: bold;">‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</div>
              <div id="notifList">
                <div style="padding: 10px; color: #999; text-align: center;">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</div>
              </div>
            </div>
          </div>

          <button class="theme-toggle" id="themeToggle">
            <i class="fas fa-moon"></i>
          </button>

          <div class="user-menu">
            <div class="user-avatar">
                <i class="fas fa-user"></i>
            </div>
            <div class="dropdown-menu" id="userDropdown">
              <a href="#settings" data-page="settings"><i class="fas fa-cog"></i> ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏£‡∏∞‡∏ö‡∏ö</a>
              <a href="#" id="logoutBtn"><i class="fas fa-sign-out-alt"></i> Logout</a>
            </div>
          </div>
        </div>
      </header>

      <div class="content" id="pageContent">
        
        <div class="page active" id="dashboard-page">
          <div class="page-header">
            <div>
                <h1 id="welcome-message">Dashboard</h1>
                <p>‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÇ‡∏´‡∏ß‡∏ï</p>
            </div>
            <div id="liveClock" style="text-align: right; font-size: 1.1em; color: var(--primary-color); font-weight: 500;">
                ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏ß‡∏•‡∏≤...
            </div>
          </div>
          <div class="stats-grid">
            <div class="stat-card">
              <div class="stat-icon blue"><i class="fas fa-users"></i></div>
              <div class="stat-content">
                <h3>‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h3>
                <p class="stat-value" id="stat-total-students">0</p>
              </div>
            </div>
            <div class="stat-card">
              <div class="stat-icon orange"><i class="fas fa-percentage"></i></div>
              <div class="stat-content">
                <h3>‡∏Ñ‡∏¥‡∏î‡πÄ‡∏õ‡πá‡∏ô‡∏£‡πâ‡∏≠‡∏¢‡∏•‡∏∞</h3>
                <p class="stat-value" id="stat-turnout-percent">0%</p>
              </div>
            </div>
            <div class="stat-card">
              <div class="stat-icon purple"><i class="fas fa-vote-yea"></i></div>
              <div class="stat-content">
                <h3>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÇ‡∏´‡∏ß‡∏ï‡∏£‡∏ß‡∏°</h3>
                <p class="stat-value" id="stat-total-votes">0</p>
              </div>
            </div>
          </div>
          <div class="settings-section">
            <h3><i class="fas fa-chart-pie"></i> Dashboard ‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•</h3>
            <div id="dashboard-summary"><p>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏£‡∏∏‡∏õ...</p></div>
          </div>
        </div>

        <div class="page" id="feedbacks-page">
          <div class="page-header">
            <h1>‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠‡πÅ‡∏ô‡∏∞‡∏à‡∏≤‡∏Å‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</h1>
            <button class="btn btn-secondary" onclick="loadFeedbackLogs()"><i class="fas fa-sync-alt"></i> ‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä</button>
          </div>
          <div class="settings-section">
            <div class="table-container">
                <table class="data-table" id="feedbackTable">
                    <thead><tr><th style="width: 20%;">‡πÄ‡∏ß‡∏•‡∏≤</th><th style="width: 20%;">‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</th><th>‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°</th><th style="width: 10%;">‡∏≠‡πà‡∏≤‡∏ô</th></tr></thead>
                    <tbody></tbody>
                </table>
            </div>
          </div>
        </div>

        <div class="page" id="products-page">
          <div class="page-header">
            <h1>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏ö‡∏ö‡πÄ‡∏™‡∏∑‡πâ‡∏≠</h1>
            <div class="btn-group">
                <button class="btn btn-secondary" id="exportVotesPdfButton"><i class="fas fa-file-pdf"></i> ‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡∏ú‡∏•‡πÇ‡∏´‡∏ß‡∏ï (.pdf)</button>
                <button class="btn btn-primary" id="addDesignBtn"><i class="fas fa-plus"></i> ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÅ‡∏ö‡∏ö‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡πÉ‡∏´‡∏°‡πà</button>
            </div>
          </div>
          <div class="settings-section">
            <h3><i class="fas fa-poll"></i> ‡∏ú‡∏•‡πÇ‡∏´‡∏ß‡∏ï‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô (‡∏ï‡∏≤‡∏£‡∏≤‡∏á)</h3>
            <div class="table-container">
                <table class="data-table" id="adminVoteResultsTable">
                    <thead><tr><th>Design ID</th><th>Design Name</th><th>Vote Count</th><th>Image</th><th>Actions</th></tr></thead>
                    <tbody></tbody>
                </table>
            </div>
          </div>
          <div class="charts-grid">
            <div class="chart-card">
              <div class="chart-header"><h3><i class="fas fa-chart-bar"></i> ‡∏Å‡∏£‡∏≤‡∏ü‡∏ú‡∏•‡πÇ‡∏´‡∏ß‡∏ï</h3></div>
              <canvas id="voteChart"></canvas>
            </div>
          </div>
        </div>

        <div class="page" id="users-page">
          <div class="page-header">
            <h1>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</h1> 
            <div class="btn-group">
                <button class="btn btn-primary" id="exportUsersPdfButton"><i class="fas fa-file-pdf"></i> ‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô (.pdf)</button>
            </div>
          </div>
          <div class="tab-controls" id="userTabs">
            <button class="tab-btn active" data-status="voted"><i class="fas fa-user-check"></i> ‡πÇ‡∏´‡∏ß‡∏ï‡πÅ‡∏•‡πâ‡∏ß (<span id="voted-count">0</span>)</button>
            <button class="tab-btn" data-status="unvoted"><i class="fas fa-user-clock"></i> ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÇ‡∏´‡∏ß‡∏ï (<span id="unvoted-count">0</span>)</button>
          </div>
          <div class="table-controls">
            <div class="search-filter">
              <select id="gradeFilter">
                <option value="all">‡∏Å‡∏£‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô (‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î)</option>
                <option value="‡∏°.1">‡∏°.1</option><option value="‡∏°.2">‡∏°.2</option><option value="‡∏°.3">‡∏°.3</option>
                <option value="‡∏°.4">‡∏°.4</option><option value="‡∏°.5">‡∏°.5</option><option value="‡∏°.6">‡∏°.6</option>
              </select>
              <input type="text" id="userSearchInput" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô/‡∏ä‡∏∑‡πà‡∏≠...">
            </div>
          </div>
          <div class="table-container">
            <table class="data-table" id="adminUsersTable">
                 <thead>
                   <tr>
                       <th>Student ID</th>
                       <th>Full Name</th>
                       <th>Grade</th>
                       <th>Room</th>
                       <th class="voted-col">Timestamp</th>
                       <th class="voted-col">Vote Choice</th>
                       <th>Actions</th>
                   </tr>
                 </thead>
                 <tbody></tbody>
            </table>
          </div>
        </div>

        <div class="page" id="settings-page">
          <div class="page-header"><h1>‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏£‡∏∞‡∏ö‡∏ö</h1></div>
          <div class="settings-container">
            <div class="settings-section">
                <h3><i class="fas fa-clock"></i> ‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏õ‡∏¥‡∏î-‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡πÇ‡∏´‡∏ß‡∏ï</h3>
                <div class="form-group"><label for="voteStartTime">‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô:</label><input type="datetime-local" id="voteStartTime"></div>
                <div class="form-group"><label for="voteEndTime">‡πÄ‡∏ß‡∏•‡∏≤‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î:</label><input type="datetime-local" id="voteEndTime"></div>
                <p id="current-vote-time" style="font-weight: bold; margin-top: 15px; color: var(--text-secondary);"></p>
                <div class="btn-group">
                    <button class="btn btn-primary" id="setVoteTimeButton">‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡πÇ‡∏´‡∏ß‡∏ï</button>
                    <button class="btn btn-danger" id="closeVotingNowButton">‡∏õ‡∏¥‡∏î‡πÇ‡∏´‡∏ß‡∏ï‡∏ó‡∏±‡∏ô‡∏ó‡∏µ</button>
                </div>
            </div>
            <div class="settings-section">
                <h3><i class="fas fa-bullhorn"></i> ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®</h3>
                <div class="form-group"><label for="announcementText">‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®:</label><textarea id="announcementText" rows="4" placeholder="‡πÄ‡∏ä‡πà‡∏ô üì£ ‡∏õ‡∏¥‡∏î‡πÇ‡∏´‡∏ß‡∏ï‡πÄ‡∏ß‡∏•‡∏≤ 16:00 ‡∏ô. ‡∏ô‡∏µ‡πâ!"></textarea></div>
                <div class="btn-group"><button class="btn btn-primary" id="saveAnnouncementButton">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®</button>
                </div>
              </div>
            <div class="settings-section">
              <h3><i class="fas fa-book"></i> ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</h3>
              <div class="form-group">
                  <label>‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠ :</label>
                  <textarea id="helpContentInput" rows="6" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° ‡∏´‡∏£‡∏∑‡∏≠‡πÇ‡∏Ñ‡πâ‡∏î HTML ‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà..."></textarea>
              </div>
              <button class="btn btn-primary" id="saveHelpContentButton">
                  <i class="fas fa-save"></i> ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠
              </button>
            </div>
            </div>
          </div>
        
        <div class="page" id="accounts-page">
          <div class="page-header"><h1>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•</h1></div>
          <div class="settings-container">
            <div class="settings-section">
                <h3><i class="fas fa-user-plus"></i> ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•</h3>
                <div class="form-group"><label for="newAdminUsername">Username ‡πÉ‡∏´‡∏°‡πà:</label><input type="text" id="newAdminUsername" placeholder="username" required></div>
                <div class="form-group"><label for="newAdminPassword">Password ‡πÉ‡∏´‡∏°‡πà:</label><input type="password" id="newAdminPassword" placeholder="password" required></div>
                <div class="form-group"><label for="newAdminFullName">‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•:</label><input type="text" id="newAdminFullName" placeholder="‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•" required></div>
                <button class="btn btn-primary" id="addAdminButton">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•</button>
                <h3 style="margin-top: 30px;">‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà</h3>
                <div class="table-container">
                    <table class="data-table" id="adminAccountsTable"><thead><tr><th>Username</th><th>‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•</th><th>Actions</th></tr></thead><tbody></tbody></table>
                </div>
            </div>
          </div>
        </div>

        <div class="page" id="tools-page">
          <div class="page-header"><h1>‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•</h1></div>
          <div class="settings-container">
             <div class="settings-section">
                <h3><i class="fas fa-tools"></i> ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</h3>
                <div class="btn-group" style="flex-wrap: wrap;">
                    <button id="recalculateVotesButton" class="btn btn-primary" style="background-color: var(--warning-color); color: white;"><i class="fas fa-calculator"></i> ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÉ‡∏´‡∏°‡πà</button>
                    <button id="resetVotesButton" class="btn btn-danger"><i class="fas fa-history"></i> ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</button>
                    <button id="clearUsersButton" class="btn btn-danger"><i class="fas fa-user-times"></i> ‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ</button>
                </div>
            </div>
            <div class="settings-section">
                <h3><i class="fas fa-user-edit"></i> ‡πÄ‡∏û‡∏¥‡πà‡∏° ‡∏´‡∏£‡∏∑‡∏≠ ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</h3>
                <form id="student-form">
                    <div class="form-group"><label for="manualStudentId">‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô (5 ‡∏´‡∏•‡∏±‡∏Å):</label><input type="text" id="manualStudentId" placeholder="‡πÄ‡∏ä‡πà‡∏ô 01234" required maxlength="5"></div>
                    <div class="form-group"><label for="manualPassword">‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô (‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏Å‡∏£‡∏≠‡∏Å‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô):</label><input type="text" id="manualPassword" placeholder="‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô (‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏î‡πâ)"></div>
                    <div class="form-group"><label for="manualFullName">‡∏ä‡∏∑‡πà‡∏≠ - ‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•:</label><input type="text" id="manualFullName" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡πÄ‡∏î‡πá‡∏Å‡∏ä‡∏≤‡∏¢‡∏£‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô ‡πÄ‡∏û‡∏µ‡∏¢‡∏£‡∏ß‡∏¥‡∏ä‡∏≤" required></div>
                    <div class="form-group"><label for="manualGrade">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô:</label><select id="manualGrade"><option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô --</option><option value="‡∏°.1">‡∏°.1</option><option value="‡∏°.2">‡∏°.2</option><option value="‡∏°.3">‡∏°.3</option><option value="‡∏°.4">‡∏°.4</option><option value="‡∏°.5">‡∏°.5</option><option value="‡∏°.6">‡∏°.6</option></select></div>
                    <div class="form-group"><label for="manualRoom">‡∏´‡πâ‡∏≠‡∏á:</label><select id="manualRoom"><option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡πâ‡∏≠‡∏á --</option><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option><option value="9">9</option><option value="10">10</option><option value="11">11</option><option value="12">12</option></select></div>
                    <div class="btn-group"><button type="submit" class="btn btn-primary" id="saveStudentButton"><i class="fas fa-save"></i> ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</button></div>
                </form>
            </div>
            <div class="settings-section">
                <h3><i class="fas fa-file-csv"></i> Import ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô (CSV)</h3>
                <div class="form-group"><label for="csvFile">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå .csv</label><input type="file" id="csvFile" accept=".csv" style="width: 100%;"></div>
                <div class="btn-group"><button class="btn btn-primary" id="uploadCsvButton" style="background-color: var(--success-color);"><i class="fas fa-upload"></i> Import ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (CSV)</button></div>
                <p id="upload-csv-message" class="message"></p>
            </div>
          </div>
        </div>
        
        </div>
    </main>
  </div>

  <div class="modal" id="designModal">
    <div class="modal-content">
      <div class="modal-header"><h2 id="designModalTitle">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏ö‡∏ö‡πÄ‡∏™‡∏∑‡πâ‡∏≠</h2><button class="modal-close" data-modal="designModal"><i class="fas fa-times"></i></button></div>
      <form id="designForm">
        <input type="hidden" id="editMode" value="false"><input type="hidden" id="editDesignIdHidden">
        <div class="form-group"><label for="designIdInput">Design ID:</label><input type="text" id="designIdInput" required></div>
        <div class="form-group"><label for="designNameInput">‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏ö‡∏ö‡πÄ‡∏™‡∏∑‡πâ‡∏≠:</label><input type="text" id="designNameInput" required></div>
        
        <div class="form-group">
            <label>‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÅ‡∏ö‡∏ö‡πÄ‡∏™‡∏∑‡πâ‡∏≠:</label>
            <div style="display:flex; gap:10px; align-items:center;">
                <input type="file" id="designImageFile" accept="image/*" style="display:none;" onchange="window.previewImage(this)">
                <button type="button" class="btn btn-secondary" onclick="document.getElementById('designImageFile').click()">
                    <i class="fas fa-upload"></i> ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ
                </button>
                <span id="fileNameDisplay" style="font-size:12px; color:#666;">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå</span>
            </div>
            <img id="imagePreview" src="" style="max-width:150px; max-height:150px; margin-top:10px; display:none; border-radius:8px; border:1px solid #ddd;">
            <input type="hidden" id="designImageUrlInput"> 
        </div>

        <div class="modal-footer"><button type="button" class="btn btn-secondary" data-modal="designModal">Cancel</button><button type="submit" class="btn btn-primary" id="saveDesignButton">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></div>
      </form>
    </div>
  </div>

  <div class="modal" id="editVoteModal">
    <div class="modal-content">
      <div class="modal-header"><h2 id="editVoteModalTitle">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Å‡∏≤‡∏£‡πÇ‡∏´‡∏ß‡∏ï</h2><button class="modal-close" data-modal="editVoteModal"><i class="fas fa-times"></i></button></div>
      <form id="editVoteForm">
        <input type="hidden" id="editVoteStudentId"><input type="hidden" id="editVoteOldChoice">
        <div class="form-group"><label>‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô:</label><input type="text" id="editVoteStudentInfo" readonly style="background-color: var(--bg-tertiary);"></div>
        <div class="form-group"><label for="newVoteChoiceSelect">‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡πÇ‡∏´‡∏ß‡∏ï:</label><select id="newVoteChoiceSelect" required></select></div>
        <div class="modal-footer"><button type="button" class="btn btn-secondary" data-modal="editVoteModal">Cancel</button><button type="submit" class="btn btn-primary" id="saveVoteButton">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á</button></div>
      </form>
    </div>
  </div>

  <div class="toast-container" id="toastContainer"></div>
  <div class="loading-overlay" id="loadingOverlay"><div class="spinner"></div></div>

  <script src="admin.js?v=9999"></script>

</body>
</html>